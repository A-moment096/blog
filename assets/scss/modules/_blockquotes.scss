// =============================================================================
// BLOCKQUOTES MODULE
// 引用块样式，包括普通引用块和彩色引用块
// =============================================================================

.article-content {
  blockquote {
    border-left: 3px solid var(--accent-color);
    background: var(--blockquote-background-color);
    padding: 16px 20px;
    margin: 1.5em 0;
    font-style: normal;
    position: relative;
    border-radius: 0 6px 6px 0;
    line-height: 1.6;

    p {
      margin: 0.8em 0;
      
      &:first-child {
        margin-top: 0;
      }
      
      &:last-child {
        margin-bottom: 0;
      }
    }

    // 引用块中的代码块样式
    pre {
      background: rgba(0, 0, 0, 0.08) !important;
      margin: 8px -15px !important;
      padding: 8px 12px !important;
      border-radius: 4px;
      overflow-x: auto;
      
      code {
        background: transparent !important;
        line-height: 1.4;
      }
    }

    // 暗色模式下的代码块优化
    :root[data-scheme="dark"] & {
      pre {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1);
        
        code {
          filter: brightness(1.3) contrast(1.1);
        }
      }
    }

    // 代码块的复制按钮位置
    .highlight {
      margin: 8px -15px !important;
      padding: 0;
      position: relative;
      
      pre {
        margin: 0 !important;
        padding: 8px 12px !important;
      }
      
      .copyCodeButton {
        right: 72px !important;
        top: 12px !important;
        z-index: 10;
      }
    }

    // 行内代码样式
    code:not(pre code) {
      background: rgba(0, 0, 0, 0.15);
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.9em;
    }

    // 列表样式调整
    ul, ol {
      margin: 0.5em 0;
      padding-left: 1.5em;
    }

    li {
      margin: 0.3em 0;
    }

    // 彩色引用块样式
    &.warning {
      border-left-color: #fde39b;
      background: rgba(253, 227, 155, 0.1);
      
      pre {
        background: rgba(253, 227, 155, 0.15) !important;
        color: #333 !important;
      }
    }

    &.note {
      border-left-color: #a5a5ff;
      background: rgba(165, 165, 255, 0.1);
      
      pre {
        background: rgba(165, 165, 255, 0.15) !important;
        color: #333 !important;
      }
    }

    &.danger {
      border-left-color: #f19a9a;
      background: rgba(241, 154, 154, 0.1);
      
      pre {
        background: rgba(241, 154, 154, 0.15) !important;
        color: #333 !important;
      }
    }

    // 暗色模式下所有彩色引用块的统一处理
    :root[data-scheme="dark"] & {
      &.warning, &.note, &.danger {
        pre {
          background: rgba(255, 255, 255, 0.05) !important;
          border: 1px solid rgba(255, 255, 255, 0.1);
          color: #f8f8f2 !important;
          
          code {
            filter: brightness(1.3) contrast(1.1);
          }
        }
      }
    }
  }

  // 折叠详情样式
  details {
    padding: 15px;

    summary {
      font-weight: bold;
      cursor: pointer;
    }

    &[open] {
      background: var(--detail-background);
    }
  }
}
