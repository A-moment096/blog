// =============================================================================
// BLOCKQUOTES MODULE
// GitHub 式引用块样式，包括普通引用块和彩色引用块
// =============================================================================

.article-content {
  blockquote {
    border-left: 3px solid var(--accent-color);
    background: var(--blockquote-background-color);
    padding: 16px 20px;
    margin: 1.5em 0;
    font-style: normal;
    position: relative;
    border-radius: 8px;
    line-height: 1.6;

    p {
      margin: 0.8em 0;
      
      &:first-child {
        margin-top: 0;
      }
      
      &:last-child {
        margin-bottom: 0;
      }
    }

    // 引用块中的代码块样式
    pre {
      background: rgba(0, 0, 0, 0.08) !important;
      margin: 8px -15px !important;
      padding: 8px 12px !important;
      border-radius: 4px;
      overflow-x: auto;
      
      code {
        background: transparent !important;
        line-height: 1.4;
      }
    }

    // 暗色模式下的代码块优化
    :root[data-scheme="dark"] & {
      pre {
        background: rgba(255, 255, 255, 0.05) !important;
        border: 1px solid rgba(255, 255, 255, 0.1);
        
        code {
          filter: brightness(1.3) contrast(1.1);
        }
      }
    }

    // 代码块的复制按钮位置
    .highlight {
      margin: 8px -15px !important;
      padding: 0;
      position: relative;
      
      pre {
        margin: 0 !important;
        padding: 8px 12px !important;
      }
      
      .copyCodeButton {
        right: 72px !important;
        top: 12px !important;
        z-index: 10;
      }
    }

    // 行内代码样式
    code:not(pre code) {
      background: rgba(0, 0, 0, 0.15);
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.9em;
    }

    // 列表样式调整
    ul, ol {
      margin: 0.5em 0;
      padding-left: 1.5em;
    }

    li {
      margin: 0.3em 0;
    }

    // GitHub 式引用块样式
    // NOTE 样式
    &.github-note {
      border-left-color: #0969da;
      background: linear-gradient(135deg, rgba(9, 105, 218, 0.08) 0%, rgba(9, 105, 218, 0.04) 100%);
      border-radius: 8px;
      
      .github-alert-title {
        color: #0969da;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        
        .github-alert-icon svg {
          width: 16px;
          height: 16px;
          fill: currentColor;
        }
      }
      
      .github-alert-content {
        margin-top: 8px;
      }
      
      pre {
        background: rgba(9, 105, 218, 0.1) !important;
      }
    }

    // TIP 样式
    &.github-tip {
      border-left-color: #1a7f37;
      background: linear-gradient(135deg, rgba(26, 127, 55, 0.08) 0%, rgba(26, 127, 55, 0.04) 100%);
      border-radius: 8px;
      
      .github-alert-title {
        color: #1a7f37;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        
        .github-alert-icon svg {
          width: 16px;
          height: 16px;
          fill: currentColor;
        }
      }
      
      pre {
        background: rgba(26, 127, 55, 0.1) !important;
      }
    }

    // IMPORTANT 样式
    &.github-important {
      border-left-color: #8250df;
      background: linear-gradient(135deg, rgba(130, 80, 223, 0.08) 0%, rgba(130, 80, 223, 0.04) 100%);
      border-radius: 8px;
      
      .github-alert-title {
        color: #8250df;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        
        .github-alert-icon svg {
          width: 16px;
          height: 16px;
          fill: currentColor;
        }
      }
      
      pre {
        background: rgba(130, 80, 223, 0.1) !important;
      }
    }

    // WARNING 样式
    &.github-warning {
      border-left-color: #ff8c00;
      background: linear-gradient(135deg, rgba(255, 140, 0, 0.08) 0%, rgba(255, 140, 0, 0.04) 100%);
      border-radius: 8px;
      
      .github-alert-title {
        color: #ff8c00;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        
        .github-alert-icon svg {
          width: 16px;
          height: 16px;
          fill: currentColor;
        }
      }
      
      pre {
        background: rgba(255, 140, 0, 0.1) !important;
      }
    }

    // CAUTION 样式
    &.github-caution {
      border-left-color: #d1242f;
      background: linear-gradient(135deg, rgba(209, 36, 47, 0.08) 0%, rgba(209, 36, 47, 0.04) 100%);
      border-radius: 8px;
      
      .github-alert-title {
        color: #d1242f;
        font-weight: 600;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 8px;
        
        .github-alert-icon svg {
          width: 16px;
          height: 16px;
          fill: currentColor;
        }
      }
      
      pre {
        background: rgba(209, 36, 47, 0.1) !important;
      }
    }

    // 暗色模式下的 GitHub 引用块样式
    :root[data-scheme="dark"] & {
      &.github-note {
        border-left-color: #4dabf7;
        background: linear-gradient(135deg, rgba(77, 171, 247, 0.15) 0%, rgba(77, 171, 247, 0.08) 100%);
        
        .github-alert-title {
          color: #4dabf7;
          
          .github-alert-icon svg {
            fill: currentColor;
          }
        }
        
        pre {
          background: rgba(77, 171, 247, 0.1) !important;
          border: 1px solid rgba(77, 171, 247, 0.2);
        }
      }

      &.github-tip {
        border-left-color: #51cf66;
        background: linear-gradient(135deg, rgba(81, 207, 102, 0.15) 0%, rgba(81, 207, 102, 0.08) 100%);
        
        .github-alert-title {
          color: #51cf66;
          
          .github-alert-icon svg {
            fill: currentColor;
          }
        }
        
        pre {
          background: rgba(81, 207, 102, 0.1) !important;
          border: 1px solid rgba(81, 207, 102, 0.2);
        }
      }

      &.github-important {
        border-left-color: #9775fa;
        background: linear-gradient(135deg, rgba(151, 117, 250, 0.15) 0%, rgba(151, 117, 250, 0.08) 100%);
        
        .github-alert-title {
          color: #9775fa;
          
          .github-alert-icon svg {
            fill: currentColor;
          }
        }
        
        pre {
          background: rgba(151, 117, 250, 0.1) !important;
          border: 1px solid rgba(151, 117, 250, 0.2);
        }
      }

      &.github-warning {
        border-left-color: #ffa500;
        background: linear-gradient(135deg, rgba(255, 165, 0, 0.15) 0%, rgba(255, 165, 0, 0.08) 100%);
        
        .github-alert-title {
          color: #ffa500;
          
          .github-alert-icon svg {
            fill: currentColor;
          }
        }
        
        pre {
          background: rgba(255, 165, 0, 0.1) !important;
          border: 1px solid rgba(255, 165, 0, 0.2);
        }
      }

      &.github-caution {
        border-left-color: #ff6b6b;
        background: linear-gradient(135deg, rgba(255, 107, 107, 0.15) 0%, rgba(255, 107, 107, 0.08) 100%);
        
        .github-alert-title {
          color: #ff6b6b;
          
          .github-alert-icon svg {
            fill: currentColor;
          }
        }

        pre {
          background: rgba(255, 107, 107, 0.1) !important;
          border: 1px solid rgba(255, 107, 107, 0.2);
        }
      }

      // 通用的暗色模式代码样式
      &.github-note, &.github-tip, &.github-important, &.github-warning, &.github-caution {
        pre {
          color: #f8f8f2 !important;
          
          code {
            filter: brightness(1.2) contrast(1.1);
          }
        }
      }
    }
  }

  // 折叠详情样式
  details {
    padding: 15px;

    summary {
      font-weight: bold;
      cursor: pointer;
    }

    &[open] {
      background: var(--detail-background);
    }
  }
}
