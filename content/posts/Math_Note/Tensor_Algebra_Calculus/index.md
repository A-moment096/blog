---
categories:
- Mathematics
# - Programming
# - Phase Field
# - Others
tags:
- Tensor
- Calculus
- Note
- Linear Algebra
title: 张量代数/微积分笔记 I
description: 记号约定和线性代数
date: 2025-09-29T15:03:01+08:00
image: 
math: true
hidden: false
comments: true
draft: true
weight: -100
---

$$
\gdef\dd{\space\mathrm{d}}
\gdef\p{\partial}
\gdef\R{\mathbb{R}}
\gdef\GL{\operatorname{GL}}
\gdef\tr{\operatorname{tr}}
\gdef\adj{\operatorname{adj}}
\gdef\inv{^{-1}}
\gdef\tran{^{\top}}
\gdef\pfrac#1#2{\dfrac{\p #1}{\p #2}}
\gdef\ddfrac#1#2{\dfrac{\mathrm{d} #1}{\mathrm{d} #2}}
\gdef\tensor#1{\mathbf{#1}}
$$

## 前言

由于后面可能需要使用很多力学相关的内容，尤其是连续介质力学，我需要一些张量代数和张量微积分的知识来作为学习力学内容的前置。然而，这两个学科说实话记号十分复杂，到现在也没有一个让我能顺着推下去的内容：

- 有的地方只使用下标，有些地方同时使用上下标；
- 有的地方大量使用爱因斯坦求和约定，有的地方又不怎么用到；
- 有些地方严格区分矩阵，向量和张量，而有些地方一开始就声明前两个东西都是张量的特殊形式；
- 有的地方严格区分张量的分量表示和张量本身，将符号分地很细致，而又有的地方不会进行这么严格的区分……

这些磕磕绊绊的存在实在是让我构建一个属于自己的足够有说服力的理论体系。也因此，我计划从各个书目广泛征集张量代数和张量微积分的内容，并把我理解到的内容记录在这个笔记上。希望以此可以帮助我梳理整个理论知识体系。

不过也正因如此，这个系列也许会充斥着大量个人的 *可能错误的* 理解。如果阅读本文的你发现了这些错误，还望海涵且不吝赐教。谢谢。

## 记号约定

我们约定小写黑体字母，如 $\tensor{u}$，$\tensor{v}$，$\tensor{f}$ 为向量/一阶张量，或者以它们为值的函数们，对应的小写普通字母将带着它们对应的上下标来表示其分量；大写黑体字母 $\tensor{T}$，$\tensor{R}$，$\tensor{F}$ 等表示矩阵/二阶张量，或者以它们为值的函数们，其对应普通字母也是和上下标一起表示分量。我们会采用爱因斯坦求和约定，没有特别提及的话，我们的指标永远只取 $1,2,3$。

## 线性代数

我们先复习线性代数中的一些内容。首先是研究的对象，线性空间：

### 线性空间

> [!DEF]{线性空间}
>
> 满足线性八大公理的集合称为 **线性空间**，也称 *向量空间* 或 *矢量空间*。若其所配备的域为 $k$ 则称该线性空间为 $k$ 上的线性空间。称线性空间中的元素为 **向量** 或者 **矢量**。

我们简单描述八大公理，线性空间中的元素（向量）对加法有封闭性、结合律和交换律且存在单位元（零向量），线性空间中的元素可以与域 $k$ 中数字相乘，称为数乘，域 $k$ 允许加减乘除。最后，数乘可以分配到线性空间元素（向量）的加法中。

我们目前仅考虑有限维线性空间。

> [!REM]{线性空间的一些性质}
>
> 线性空间中有线性相关与线性无关的概念，两个向量是线性相关的当且仅当它们差一个数乘，否则是线性无关；
> 
> 这个概念可以拓展到向量组。我们先引入线性组合，一组向量的线性组合是让它们各自数乘某个数后再相加。如果对这个向量组可以找到一组不全为 $0$ 的数字，让这些数字和向量数乘后相加（线性组合）能得到 $0$ 向量的话，就称这组向量是线性相关的；如果要想让它们通过数乘和加法（线性组合）得到 $0$ 向量的数字只能全部为 $0$，则称它们是线性无关的。这两个概念是对立的。
>
> 根据线性无关性，我们定义线性空间的基，使用线性空间的基可以把该空间中的任意一个元素（向量）都表达为基的线性组合，而也正因如此，我们在选定一组基，并按某种次序确定好这些基之后，就可以把向量空间中的每一个向量都唯一地表示为一个数表。该数表我们通常写成一列数字的形式，称为列向量

我们接下来引入所谓的内积。

> [!DEF]{内积}
>
> 内积（有时根据上下文，也称作点积）是满足下面性质的一个 $\langle\cdot,\cdot\rangle\vcentcolon V\times V\to k$ 的二元运算：
>
> - 共轭对称：$\langle \tensor{x},\tensor{y}\rangle = \overline{\langle \tensor{y},\tensor{x}\rangle};$
> - 对第一个元素有线性性：$\langle a\tensor{x}+b\tensor{y},\tensor{z}\rangle = a\langle \tensor{x},\tensor{z}\rangle + b\langle \tensor{y},\tensor{z}\rangle;$
> - 非负性：对任意的非 $0$ 元素 $\tensor{x}$，$\langle \tensor{x},\tensor{x}\rangle > 0;$

我们最常使用的内积是这样定义的，我们取两个列向量在同一组基下的表示出来的数表，给后一个向量取共轭（如果限制在实数域则共轭等于本身），将其对应位置分量相乘后再加在一起得到内积的结果。可以验证这样的运算是符合内积定义的。有了内积，我们就能讨论一些更复杂的内容了，比如向量的范数，以及向量之间的正交关系：

> [!DEF]{范数、角度、正交}
>
> 范数是满足如下性质的一个 $p\vcentcolon V\to k$ 的映射：
>
> - 亚可加性/三角不等式：对任意的 $\tensor{x},\tensor{y} \in V$ 有 $p(\tensor{x}+\tensor{y}) \leq p(\tensor{x}) + p(\tensor{y})$；
> - 齐次性：对任意标量 $s$ 和任意的 $\tensor{x}\in V$ 有 $p(s\tensor{x}) = \vert s\vert p(\tensor{x})$；
> - 正定性：如果 $p(\tensor{x}) = 0$，则 $\tensor{x}$ 一定是 $0$。
>
> 从上面定义的内积可以自然诱导出一个范数，这里不再赘述，其几何意义为向量的长度，我们常记作 $||\cdot||$
>
> 角度可以建立在向量范数上。
> 
> 我们定义，两个向量 $\tensor{u},\tensor{v}$ 之间的角度为 
> 
> $$\theta = \arccos{\frac{\langle \tensor{u},\tensor{v}\rangle}{||\tensor{u}||\,||\tensor{v}||}}$$
>
> 基于角度，我们可以定义正交：角度为 $\pi/2$ 的两个向量互为正交，即两个向量内积为 $0$ 即为正交。

我们不加说明地指出正交向量组是天然线性无关的。有了正交性，我们可以考虑选择一组正交向量做向量空间的基。

### 线性映射

我们再给出线性空间中的重要概念：线性映射：

> [!DEF]{线性映射}
>
> 线性映射是指从线性空间映射到线性空间的 **同态**，同态指保持对象内运算的映射。

我们通俗解释这个概念：线性映射把一个向量空间中的向量映射到另一个向量空间中的向量。如果第一个空间中的向量经过了加法和数乘，那么它映射到第二个空间中的结果也可以被拆分为对应向量的加法和数乘。或者说，先进行加法和数乘等操作再进行映射，等于先给对应向量映射到新空间后再进行对应的加法和数乘。

另外我们不加证明地指出，在给定一组基的情况下，一个线性映射可以被表达为一个二维数表，我们称之为矩阵。我们称向量在线性映射下的作用为 *矩阵与向量的乘积*，给出的结果是新空间中的向量。在表示新空间中的向量时我们需要一组新空间中的基，这个基通过原空间的基经过线性映射得到。线性映射作为映射可以进行复合，在表示为矩阵时我们称两个线性映射的复合为 *矩阵乘法*。

下面我们先给出矩阵与向量相乘的计算方法。

> [!REM]{线性映射的例子}
>
> 设现在有一个线性映射 $\tensor{f}\vcentcolon V\to W$，其可以在一组基下被表达为 $\tensor{T}$。则下列算式
>
> $$ \tensor{f}(\tensor{v}) = \tensor{T}\tensor{v} = \tensor{w}\in W$$
> 
> 其中 $\tensor{w}$ 的第 $i$ 个分量，是以 $\tensor{T}$ 的第 $i$ 行的每一个分量，与 $\tensor{v}$ 的每一个对应的分量相乘后相加得到。即：
> 
> $$ w^i = \sum_j T^i{}_j v^j $$

再给出矩阵乘法的计算方法：

> [!REM]{矩阵乘法}
>
> 矩阵乘法要求前一个矩阵的第 $i$ 行中每一个数字与后一个矩阵中第 $j$ 列的对应位置数字相乘后再相加，将相加得到的结果作为矩阵的第 $(i,j)$ 位置的元素。如矩阵 $\tensor{A}$ 与矩阵 $\tensor{B}$ 分别有 $m$ 行 $p$ 列和 $p$ 行 $n$ 列，则其第 $i$，$j$ 个元素为：
>
> $$[AB]^i{}_j = \sum_{k}^p A^i{}_p B^p{}_j$$

### 矩阵转置

表达为矩阵的线性映射有一个特殊操作，称为矩阵转置：

> [!DEF]{转置}
>
> 矩阵的转置是将矩阵第 $i$ 行变为第 $i$ 列，把第 $j$ 列变为第 $i$ 行的操作，记号上记为 $\tensor{A^\top} = [A^i{}_j]^\top = [A^j{}_i]$

我们对后续讨论的线性空间和线性映射添加一些限制。首先我们要求所有的线性空间都是定义在 $\R$ 上的，其上都选择正交基表示，其次我们要求这个线性空间是三维线性空间，这样我们就可以将 $V$ 表示为 $\R^3$，所有的元素（向量）都成为 $\R^3$ 上的 $3$ 个分量数组；最后所有的线性映射都是从 $V$ 到 $V$ 本身的。由此，我们记线性映射对应的方阵是属于 $\R^{3\times 3} = M_3(\R)$ 的。

我们给出方阵的一些特殊点。

> [!REM]{方阵的特点}
>
> - 同阶方阵间可以定义加法，加法是按对应位置的元素相加；
> - 方阵可以定义数乘，令标量乘以方阵的每一个分量；
> - 存在特殊方阵 $\tensor{0}$ 和 $\tensor{I}$，前一个是方阵加法单位元，后一个为方阵乘法单位元；
> - 方阵的加法和数乘使之成为线性空间，定义方阵乘法为线性映射的复合，由于前后二者都具有线性性，方阵的集合因此成为一个代数；
> - 方阵作为线性映射如果是可逆的，则所有可逆的线性映射成为一个群，称作一般线性群 $\GL_n(F)$ 或 $\GL(n,F)$，其中 $n$ 是线性空间维数， $F$ 是线性空间所在的域，这里由于我们使用 $\R$ 且维数固定为 $3$，因此我们可以记作 $\GL_3(\R)$，或者 $\GL(3,\R)$，在后续我们简记为 $\GL(3)$。

而针对方阵，我们有一些经常会用到的标量函数：行列式和迹。

### 行列式

我们给出其定义，不给出其计算方法。

> [!DEF]{行列式}
>
> 行列式是一个 $\det \vcentcolon M_3(\R) = \R^{3\times 3} \to \R$ 的映射，其由下列性质唯一确定：
>
> - 单位阵 $\tensor{I}$ 的行列式为 $1$
> - 行列式是多线性的：如果行列式的一行/一列可以写为线性组合的形式，则行列式本身就可以拆分为两者的线性组合形式。
> - 行列式是交错的：如果行列式中某两行/两列相等，则行列式为 $0$。

这里不证明为何这三条性质能唯一确定该运算。我们更详细说明后两个性质，并给出其他几个性质。

> [!REM]{行列式性质说明}
>
> 我们记 $\tensor{A} = (\tensor{a_1},\dots,\tensor{a_n})$，则有：
> - 若 $\tensor{a_k} = r\tensor{v}+\tensor{w}$，$1\leq k \leq n$，则
>      $$ \det(\tensor{A}) = \det(\tensor{a_1},\dots,\tensor{a_k},\dots,\tensor{a_n}) = r\det(\tensor{a_1},\dots,\tensor{v},\dots,\tensor{a_n}) + \det(\tensor{a_1},\dots,\tensor{w},\dots,\tensor{a_n});$$
> - 若 $\tensor{a_k} = \tensor{a_l}$，$k \neq l$，$1\leq k \leq n$, $1\leq l \leq n$，则
>      $$ \det(\tensor{A}) = 0 $$
> - 转置不影响行列式：$\det(\tensor{A}) = \det(\tensor{A}^\top)$
> - 乘法和行列式可交换次序：$\det(\tensor{AB}) = \det(\tensor{A}) \det(\tensor{B})$
> - 多线性：$\det(c\tensor{A}) = c^n \det(\tensor{A})$

和行列式息息相关的一个方阵称为伴随矩阵：

> [!DEF]{伴随矩阵}
>
> 方阵 $\tensor{A}$ 的伴随矩阵记为 $\adj(\tensor{A})$，其定义为满足 $\adj(\tensor{A}) \tensor{A} = \det(\tensor{A}) \tensor{I}$

根据伴随矩阵，我们给行列式非零的方阵定义其逆矩阵（逆方阵），即对应线性映射的逆映射：

> [!DEF]{逆矩阵}
>
> 方阵 $\tensor{A}$ 若行列式不为 $0$，则我们定义其逆矩阵为 $\tensor{A}\inv = \frac{1}{\det(A)}\adj(\tensor{A})$

### 迹

另一个值得关注的标量函数为迹。

> [!DEF]{迹}
>
> 迹定义为方阵的对角元素相加之和。即 $$\tr(\tensor{A}) = \sum_{i} A^i{}_i.$$

我们给出迹的一些特点。

> [!REM]{迹的性质}
>
> - 方阵乘法交换次序不改变乘积的迹：$\tr(\tensor{AB}) = \tr(\tensor{BA});$
> - 迹是线性的：$\tr(c\tensor{A}+\tensor{B}) = c\tr(\tensor{A})+\tr(\tensor{B});$
> - 转置不影响方阵的迹：$\tr(\tensor{A}) = \tr(\tensor{A}^\top).$

对于我们讨论的三阶实方阵以及二阶方阵，我们有迹和行列式的关系：

> [!REM]{迹和行列式}
>
> 三阶方阵的迹和行列式满足下列关系：
> $$\det(\tensor{A}) = \frac 16(\tr(\tensor{A})^3 - 3\tr(\tensor{A})\tr(\tensor{A}^2) + 2\tr(\tensor{A}^3))$$
>
> 二阶方阵的迹和行列式满足：
> $$\det(\tensor{A}) =\frac 12 ((\tr(\tensor{A}))^2 - tr(\tensor{A}^2))$$

我们依旧可以为三阶方阵计算上述第二个式子，但此时其不再是行列式。我们称三阶方阵下的迹、上述第二式、行列式分别为三阶方阵的第一、第二、第三不变量，记为 $I_1$，$I_2$ 和 $I_3$。


### 对偶空间

> [!DEF]{对偶空间}
>
> 一个线性空间 $V$ 的 **对偶空间** 记作 $V^*$，其元素为从 $V$ 到 $\R$ 的线性映射，其同样满足线性空间的八个性质。我们称线性空间 $V$ 中的元素为 *向量*，则称其对偶的线性空间中的元素为 **余***向量*。取一个余向量 $v^*$，则它是一个从 $V$ 到 $\R$ 上的函数，意味着 $v^*(w)$ 是一个实数，如果我们让 $v^* \in V^*$，$w\in V$。另外，我们还可以认为 *向量是余线性空间到 $\R$ 的函数*，因为给定一个 $v \in V$ 后，任何一个 $w^* \in V^*$ 都可以和 $v$ 一起运算得到一个值。

最后，我们引入一些线性代数的内容。

### 总结

我们总结上面的内容如下：

- 线性空间满足八大公理，元素称为向量，具备加法和数乘
- 可以给向量定义内积，得到一个标量
- 线性空间之间的同态称为线性映射。

## 张量

我们先介绍张量的定义，得到定义后我们会介绍若干种张量最基础的代数运算，例如加减乘除等等。

### 张量的定义

张量其实有若干种定义方式。我们这里给出两种，一种用来方便运算，而另一种便于理解张量在运算过程中的一些性质。

> [!DEF]{张量（多维数表）}
>
> 张量可以在一个选定的坐标系下被表示为一个多维数组，而当变换坐标或者变换描述用的基底时，根据其 “逆变性” 与 “协变性”，该多维数表中的对应分量会按规则进行变化。不随坐标系改变或描述方法改变其几何性质的分量为 *逆变分量*，会随着坐标系改变而改变的分量则称为 *协变分量*。

这个定义是最实在的一种，没有什么花里胡哨的东西，下面给一些这个定义下的例子

> [!EX]
> 
> - 如果一个张量只有一个逆变分量或只有一个协变分量，其即为 *一阶张量*，成为一个向量；逆变的是 *列向量*，协变的是 *行向量*。我们把逆变指标放在上面，协变指标放在下面，比如 $\tensor{v}^i$ 是列向量，$\tensor{u}_j$ 是行向量。
> - 如果一个张量有两个分量，则它是一个矩阵，有四种情况：${T}_{ij}$，$T_i{}^j$，$T^i{}_j$ 和 $T^{ij}$。其中第一个和最后一个称为二次型，而第二和第三个称为线性映射，它们都可以用矩阵表示出来，其区别在于可以作用的量有所不同，后续会介绍。

我们知道，矩阵和矩阵、矩阵和向量、向量和向量之间都有丰富的运算，这些我们到后面再做介绍。下面我们介绍张量的一个比较数学化、形式化的定义：

> [!DEF]{张量（多重线性映射}
>
> 一个 $(p,q)$ 型张量 $T$ 定义为一个多重线性映射：
>
> $$T\vcentcolon \underbrace{V^*\times \cdots V^*}_{p\text{ 个}}\times \underbrace{V \times \cdots \times V}_{q\text{ 个}} \to \R,$$
>
> 其中 $V$ 是 $\R$ 上的线性空间，$V^*$ 是 $V$ 的对偶空间，给出 $V$ 和 $V^*$ 的一组基后，我们可以把 $(p,q)$ 型张量表示为：
>
> $$ T_{j_1\cdots j_q}^{i_1\cdots i_p} = T(\varepsilon^{i_1},\dots , \varepsilon^{i_p},e_{j_1},\dots , e_{j_q}) .$$