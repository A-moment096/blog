---
categories:
# - Mathematics
- Programming
# - Phase Field
# - Others
tags:
- Linux
- Shell
- Server
- Talk
title: "聊聊加密与验证"
description: "大概是科普向的杂谈？"
date: 2025-07-26T12:07:49+08:00
image: 
math: true
license: 
hidden: false
comments: true
draft: true
---

## 加密，非对称式加密和密钥

加密是什么？也许这个问题很蠢，但是我们可以把它的几个特点抽象出来：加密不能摧毁原有的信息（不能加密完东西没了\/不全了）；加密不能没法解密（得有还原方法）；加密的信息不希望他人能轻易解密（恢复所需要的东西具有复杂性且难以被摸透）。

那么有了上面的几个特点，我们起码可以说什么不是加密。比如，内容哈希不是加密，因为会摧毁原有信息；使用一个用完就扔随机数对内容搞个什么可逆算法捏一起也不是加密，因为恢复不回来也会烂完。把信息随便用个什么简单密码套一下，是加密，但是是很烂的加密：如果有人对这个信息感兴趣，随便爆破一下都能找出来答案，那不是烂完是什么。也许你对密码爆破没有什么概念，但是长度一般的纯数字密码使用哈希碰撞进行爆破的时间在一台家用电脑上基本不会超过一天。即便稍微复杂一些的密码，只要长度不够且攻击者有兴趣，花个几天也能攻破。不要太相信自己的密码。

下面我们讲讲加密算法。现行的加密算法非常的多，不过一般用户不需要太关心加密算法具体怎么工作，只需要知道哪些算法应用广泛，哪些算法安全性好，加密时的哪些东西重要，就可以了。使用 `ssh-keygen` 时默认使用的算法应该是 ed25519，这个名字奇怪的算法有很不错的安全性，且也算应用广泛，只要不是很老的机器基本都可以接受通过这个加密算法进行通信。另外还有所谓的 RSA 等算法，这里就不一一介绍，默认的基本就是最合适的选择了。这里要特别指出的是，这里的算法都是所谓的非对称加密算法。

非对称加密算法是一种很神奇的算法，用来加密的口令\/密钥和用来解密的口令\/密钥是不一样的。加密时将使用公开的密钥进行加密，被称为*公钥*，而解密时则需要用户使用非公开的*私钥*。它主要是区别于所谓的对称加密，也就是加密和解密使用统一口令\/密钥的算法。为什么要有非对称加密搞两套密钥呢？主要原因是为了避免中间人攻击。简单解释，就是说为了防止传递消息（特别是传递密钥）的过程出现篡改内容的情况。如果使用对称加密，想解密消息的人就必须拥有密钥的原文，这个密钥原文必须通过危险的网络进行传输，传输过程中第三者对密钥进行篡改后，消息接受者是无法验证密钥是原本的密钥还是攻击者提供的密钥。而使用非对称加密就避免了这样的问题：只能使用公钥加密，用私钥解密，被加密的消息是否被篡改只需要观察能否使用私钥进行解密即可。

最后我们再来解释一下什么是密钥。所谓密钥，其实和密码，口令什么的一模一样，有了这么个东西，你就能做些什么；没有它或者不知道它，那就不行。不过在 SSH 的语境下，密钥、密码、口令三个的区别在于：密钥是机器负责自动验证的，你的机器上有这个密钥，对方的机器在被 SSH 时就会读取并自动进行验证；密码是在没有密钥的时候为了登录而输入的账户的密码，说白了就是账户对应的密码；口令则是在使用密钥的时候的另外一层保险，也就是说密钥验证成功之后还需要认为输入一次口令进行验证，以此来增强安全性。

一般私人电脑登录远程服务器，有个密钥就可以了，不太需要再设个口令难为自己。不过在公用电脑上，设置口令是个好选择：防止有人方便地登录你的账户。不推荐密码的主要原因是密码是不管从哪个机器进行登录的，弱密码一旦攻破谁也救不了，而密钥因为要绑定机器，会安全很多，至少陌生的机器是没法登录你的账户的。

#### 